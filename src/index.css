@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* CounterOS Brand Colors - OBLIGATORY */
  --primary: 214 100% 12%;     /* #0B1630 Navy Blue */
  --primary-foreground: 0 0% 98%;
  --secondary: 154 71% 44%;    /* #1FBF72 Green */
  --secondary-foreground: 0 0% 98%;
  --accent: 25 95% 53%;        /* #FF6A3D Orange */
  --accent-foreground: 0 0% 98%;
  --warning: 25 95% 53%;       /* Same as accent */
  --warning-foreground: 0 0% 98%;
  
  /* Neutral Scale */
  --background: 0 0% 100%;
  --foreground: 222 84% 5%;
  --card: 0 0% 100%;
  --card-foreground: 222 84% 5%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 84% 5%;
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 214 100% 12%;
  
  /* Destructive */
  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;
  
  /* F&B Semantic Colors - Sistema de SemÃ¡foro */
  --critical: 0 73% 41%;        /* ðŸ”´ Rojo - AcciÃ³n URGENTE */
  --warning: 38 92% 50%;        /* ðŸŸ¡ Amarillo - Monitorear */
  --success: 142 71% 45%;       /* ðŸŸ¢ Verde - Todo bien */
  --neutral: 215 14% 47%;       /* âšª Gris - Info/contexto */
  
  --critical-foreground: 0 0% 100%;
  --warning-foreground: 0 0% 0%;
  --success-foreground: 0 0% 100%;
  
  /* Radius */
  --radius: 0.5rem;
}

.dark {
  --background: 222 47% 7%;        /* Casi negro */
  --foreground: 210 40% 98%;
  --card: 222 40% 11%;             /* Cards mÃ¡s claros que bg */
  --card-foreground: 210 40% 98%;
  --popover: 222 47% 7%;
  --popover-foreground: 210 40% 98%;
  --muted: 217 33% 18%;
  --muted-foreground: 215 20% 65%;
  --border: 217 33% 18%;
  --input: 217 33% 18%;
  --ring: 213 27% 84%;
  --primary: 154 71% 44%;
  --primary-foreground: 222 47% 11%;
  --secondary: 217 33% 18%;
  --secondary-foreground: 210 40% 98%;
  --accent: 217 33% 18%;
  --accent-foreground: 210 40% 98%;
  
  /* F&B Semantic Colors - Dark Mode Optimizado */
  --critical: 0 84% 60%;           /* ðŸ”´ MÃ¡s brillante en dark */
  --warning: 38 92% 58%;           /* ðŸŸ¡ MÃ¡s brillante */
  --success: 142 76% 45%;          /* ðŸŸ¢ Mantiene visibilidad */
  --neutral: 215 16% 57%;          /* âšª MÃ¡s claro */
  
  --critical-foreground: 0 0% 100%;
  --warning-foreground: 0 0% 0%;
  --success-foreground: 0 0% 100%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }
}

/* OBLIGATORY Typography Scale */
.text-display { 
  font-size: 34px;
  line-height: 1.1;
  font-weight: 700;
}

.text-xl-custom { 
  font-size: 22px;
  line-height: 1.3;
  font-weight: 600;
}

.text-body { 
  font-size: 16px;
  line-height: 1.5;
  font-weight: 400;
}

.text-caption { 
  font-size: 14px;
  line-height: 1.4;
  font-weight: 400;
}

/* Mobile-first container */
.mobile-container {
  @apply px-4 py-6;
}

@media (min-width: 768px) {
  .mobile-container {
    @apply px-6 py-8;
  }
}

/* Accessibility - Touch targets F&B optimized */
.mobile-button {
  min-height: 60px;  /* 60x60px para pantallas con grasa */
  min-width: 60px;
  @apply text-base font-semibold transition-all duration-200 active:scale-95; /* Texto mÃ¡s grande */
}

.mobile-tap-target {
  min-height: 48px;  /* MÃ­nimo para elementos secundarios */
  min-width: 48px;
  @apply transition-all duration-200;
}

.mobile-tap-target:active {
  transform: scale(0.98);
}

/* Active state feedback */
.mobile-button:active,
.mobile-tap-target:active {
  @apply bg-opacity-80;
}

/* Focus states */
.focus-visible:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary;
}

/* Mobile Tab Bar Styles */
.tab-bar {
  @apply fixed bottom-0 left-0 right-0 z-50 bg-card border-t border-border shadow-lg;
  padding-bottom: env(safe-area-inset-bottom);
}

.tab-item {
  @apply flex flex-col items-center justify-center px-3 py-3 min-h-[64px] text-muted-foreground transition-all duration-200;
  position: relative;
}

.tab-item.active {
  @apply text-secondary;
}

.tab-item.active::before {
  content: '';
  @apply absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-secondary rounded-b-full;
}

.tab-item.inactive:active {
  @apply bg-muted/50 scale-95;
}

/* Mobile Card Styles */
.mobile-card {
  @apply bg-card border border-border rounded-lg p-4 shadow-sm;
}

.mobile-card-header {
  @apply flex items-center justify-between mb-3;
}

.mobile-card-title {
  @apply font-semibold text-foreground;
}

.mobile-card-subtitle {
  @apply text-sm text-muted-foreground;
}

/* iOS List Styles */
.ios-list {
  @apply bg-card rounded-lg overflow-hidden border border-border;
}

.ios-list-item {
  @apply flex items-center justify-between px-4 py-3 border-b border-border last:border-b-0;
}

.ios-list-item:active {
  @apply bg-muted;
}

.ios-list-label {
  @apply text-foreground font-medium;
}

.ios-list-value {
  @apply text-muted-foreground;
}

/* Cost Metric States - F&B Semantic Colors */
.cost-metric {
  @apply text-foreground font-bold tabular-nums; /* NÃºmeros mÃ¡s visibles */
}

.cost-neutral {
  color: hsl(var(--neutral));
}

.cost-critical {
  color: hsl(var(--critical));
}

.cost-warning {
  color: hsl(var(--warning));
}

.cost-success {
  color: hsl(var(--success));
}

/* Mobile CTA Styles */
.mobile-cta {
  @apply fixed bottom-0 left-0 right-0 z-50 m-4 rounded-lg font-semibold transition-all duration-200;
  padding-bottom: env(safe-area-inset-bottom);
}

/* Safe area support */
.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Purposeful Animations (F&B optimized) */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

/* Stagger delays for lists */
.animate-stagger-1 {
  animation-delay: 50ms;
}

.animate-stagger-2 {
  animation-delay: 100ms;
}

.animate-stagger-3 {
  animation-delay: 150ms;
}

/* ===============================================
   Mapbox Custom Styles
   =============================================== */

/* Mapbox popup styling */
.mapboxgl-popup-content {
  @apply rounded-lg shadow-lg border border-gray-200;
  padding: 0 !important;
  min-width: 200px;
}

.mapboxgl-popup-tip {
  display: none;
}

.mapboxgl-popup-close-button {
  @apply text-gray-400 hover:text-gray-600;
  font-size: 20px;
  padding: 8px;
}

.store-popup {
  font-family: inherit;
}

/* Custom marker styles */
.custom-marker {
  will-change: transform, opacity;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.custom-marker:hover {
  filter: brightness(1.1);
  box-shadow: 0 4px 8px rgba(0,0,0,0.4);
}

/* Store label styles */
.store-label {
  font-family: inherit;
  animation: labelFadeIn 0.3s ease-out;
}

@keyframes labelFadeIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Mapbox controls styling */
.mapboxgl-ctrl-group {
  @apply shadow-lg rounded-lg;
}

.mapboxgl-ctrl-group button {
  @apply hover:bg-gray-100 transition;
}
